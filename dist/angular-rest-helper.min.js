!function(){function r(r,e){var t=this.ApiUrl,a=this.formatter||"express",n="hapi"===a?!0:!1;return function(){var a,u,o,s;if(0===arguments.length)return r(function(){return{error:"MissingData"}});if("object"!=typeof arguments[0])return r(function(){return{error:"InvalidData"}});1===arguments.length?(o=arguments[0].endpoint||arguments[0],u=arguments[0].body||void 0,a=arguments[0].params||void 0):(o=arguments[0],"get"!==o.type&&"head"!==o.type?(u=arguments[1]||void 0,a=arguments[2]||void 0):a=arguments[1]||void 0),s=a?n?t+o.path.formatHapi(a):t+o.path.formatExpress(a):t+o.path;var i={method:o.type,url:s};"get"!==o.type&&"head"!==o.type&&(i.data=u);var g=r.defer();return e(i).success(g.resolve).error(g.reject),g.promise}}angular.module("angularRestHelper"),angular.module("angularRestHelper").factory("APIService",["$q","$http",r]),String.prototype.formatExpress=function(){var r=this;for(var e in arguments[0]){var t=new RegExp("\\:"+e+"(?=/|$)","gi");r=r.replace(t,arguments[0][e])}return r},String.prototype.formatHapi=function(){var r=this;for(var e in arguments[0]){var t=new RegExp("\\{"+e+"(}|$)","gi");r=r.replace(t,arguments[0][e])}return r}}();