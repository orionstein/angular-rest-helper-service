!function(){function r(r,e){var t=this.ApiUrl,a=this.formatter||"express",n="hapi"===a?!0:!1;return function(){var a,o,s,u,i;if(0===arguments.length)return r(function(){return{error:"MissingData"}});if("object"!=typeof arguments[0])return r(function(){return{error:"InvalidData"}});1===arguments.length?(s=arguments[0].endpoint||arguments[0],o=arguments[0].body||void 0,a=arguments[0].params||void 0,u=arguments[0].headers||void 0):(s=arguments[0],"get"!==s.type&&"head"!==s.type&&"options"!==s.type?(o=arguments[1]||void 0,a=arguments[2]||void 0,u=arguments[3]||void 0):(a=arguments[1]||void 0,u=arguments[2]||void 0)),i=a?n?t+s.path.formatHapi(a):t+s.path.formatExpress(a):t+s.path;var g={method:s.type,url:i};o&&(g.data=o),u&&(g.headers=u);var p=r.defer();return e(g).success(p.resolve).error(p.reject),p.promise}}angular.module("angularRestHelper",[]),angular.module("angularRestHelper").factory("APIService",["$q","$http",r]),String.prototype.formatExpress=function(){var r=this;for(var e in arguments[0]){var t=new RegExp("\\:"+e+"(?=/|$)","gi");r=r.replace(t,arguments[0][e])}return r},String.prototype.formatHapi=function(){var r=this;for(var e in arguments[0]){var t=new RegExp("\\{"+e+"(}|$)","gi");r=r.replace(t,arguments[0][e])}return r}}();