!function(){function e(e,r){function t(){var t,n,g,i,o;if(0===arguments.length)return e(function(){return{error:"MissingData"}});if("object"!=typeof arguments[0])return e(function(){return{error:"InvalidData"}});1===arguments.length?(g=arguments[0].endpoint||arguments[0],n=arguments[0].body||void 0,t=arguments[0].params||void 0,i=arguments[0].headers||void 0):"get"===arguments[0].type||"head"===arguments[0].type?(g=arguments[0],t=arguments[1]||void 0,i=arguments[2]||void 0):2===arguments.length?(g=arguments[0],u.test(g.path)?t=arguments[1]||void 0:n=arguments[1]||void 0):3===arguments.length?(g=arguments[0],u.test(g.path)?(n=arguments[1]||void 0,t=arguments[2]||void 0):(n=arguments[1]||void 0,i=arguments[2]||void 0)):(g=arguments[0],n=arguments[1]||void 0,t=arguments[2]||void 0,i=arguments[3]||void 0),g.type||(g.type="get"),o=t?s?g.path.formatHapi(t):g.path.formatExpress(t):g.path;var m=e.defer();if(u.test(o))m.reject({error:"MissingParams"});else{var p={method:g.type,url:a+o};n&&(p.data=n),i&&(p.headers=i),r(p).success(m.resolve).error(m.reject)}return m.promise}var a=this.ApiUrl||"",n=this.formatter||"express",s="hapi"===n?!0:!1,u=new RegExp(/:|{/);return apiInstance=t,apiInstance.prototype.ApiUrl=a,apiInstance}angular.module("angularRestHelper",[]),angular.module("angularRestHelper").factory("APIService",["$q","$http",e]),String.prototype.formatExpress=function(){var e=this;for(var r in arguments[0]){var t=new RegExp("\\:"+r+"(?=/|$)","gi");e=e.replace(t,arguments[0][r])}return e},String.prototype.formatHapi=function(){var e=this;for(var r in arguments[0]){var t=new RegExp("\\{"+r+"(}|$)","gi");e=e.replace(t,arguments[0][r])}return e}}();